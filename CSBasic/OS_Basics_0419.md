# 0419_운영체제

정보처리기사 파트 중 운영체제 관련 내용에 해당하는 부분을 정리하였다.

참조도서 : 정보처리 기사 필기(시나공)



## 운영체제의 개념

컴퓨터 시스템 자원들을 효율적으로 관리하며, 사용자가 컴퓨터를 편리하고 효과적으로 사용할 수 있도록 환경을 제공하는 여러 프로그램의 모임이다.

컴퓨터 사용자와 하드웨간의 인터페이스로서 동작한다.

- 주요 자원이란?
  - 프로세스 관리 : 실행중인 프로그램의 스케줄링, 동기화 관리
  - 기억장치 관리 : 메모리 할당 및 회수의 관리
  - 주변장치 관리
  - 파일 관리



## UNIX 개요

UNIX는 1960년대 벨 연구소, MIT, General Electric이 공동 개발한 운영체제.

#### UNIX의 특징

1. 소스가 개방된 공개형 시스템

2. 대부분 C언어로 작성되어 있어 이식성이 높다. 프로세스 간의 호환성이 높다.

3. 다중사용자, 다중작업을 지원한다.

4. 트리 구조의 파일 시스템을 가진다.

5. 네트워크 기능을 제공하므로, 통신망 관리용 운영체제로 적합하다.

   

#### UNIX 시스템의 구성 : 커널(kernel) vs 쉘 (shell)

###### 커널

- UNIX의 가장 핵심적인 부분이다.
- 컴퓨터가 부팅될 때, **주기억장치에 적재된 후 상주**하면서 실행된다.
- 하드웨어를 보호, **프로그램과 하드웨어간의 인터페이스** 역할 담당
- 프로세스 스케줄링 관리, 기억장치 관리, 파일 관리, 입출력 관리
  프로세스간 통신, 데이터 전송 및 변환 담당

###### 쉘

- 사용자의 명령어를 인식하여 프로그램을 호출하고 명령을 수행
- **시스템과 사용자간의 인터페이스** 역할 담당
- **주기억장치에 상주하지 않고**, 명령어가 포함된 파일형태로 존재
  보조기억장치에서 교체 처리가 가능하다.
- 파이프라인 기능 지원

파이프라인이란? : 둘 이상의 명령을 함께 묶어 처리한 결과를 다른 명령의
입력으로 전환하는 기능.



## 기억장치의 관리와 전략

#### 기억장치 관리 전략의 개요

###### 반입 전략(Fetch)

보조기억장치에 보관중인 프로그램이나 데이터를 언제 주기억장치로 적재할 것인가?

###### 배치 전략(Placement)

새로 반입되는 프로그램이나 데이터를 주기억 장치의 어디에 위치시킬 것인가?

- **최초** 적합 : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중
  **첫 번째 분할 영역에 배치**
- **최적** 적합 : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중
  **단편화를 가장 작게 남기는** 분할 영역에 배치
- **최악** 적합 : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중
  **단편화를 가장 많이 남기는** 분할 영역에 배치

###### 교체 전략(Replacement)

주기억장치의 모든 영역이 이미 사용중인 상태에서 새로운 프로그램이나 데이터를 주기억장체에 배치하려고 할 때, 이미 사용되고 있는 영역 중에서 어느 영역을 교체하여 사용할 것인지를 결정하는 전략

- FIFO, OPT, LRU, LFU< NUR< SCR

  

#### 단편화

- 내부단편화 : 분할된 영역 > 할당될 프로그램 크기
  프로그램 할당 후 사용되지 않고 남아있는 빈 공간

- 외부단편화 : 분할된 영역 < 할당될 프로그램 크기
  프로그램 할당될 수 없이 사용되지 않고 빈 공간으로 남아 있는 전체 분할 영역

  

#### 가상 기억장치의 구현 : 페이징 기법과 세그먼테이션 기법

###### 페이징 기법

가상 기억장치에 보관되어 있는 프로그램과 주기억장치 영역을 **동일한 크기로 나눈 후** 나눠진 프로그램(페이지)를 동일하게 나눠진 주기억장치의 영역에 적재

- 외부 단편화는 발생하지 않으나, 내부 단편화는 발생할 수 있다.

###### 세그먼테이션 기법

가상기억장치에 보관되어 있는 프로그램을 **다양한 크기의 논리적인 단위**로 나눈 후 주기억장치에 적재

- 세그먼트란, 프로그램을 배열이나 함수 등과 같은 논리적 크기로 나눈 단위이다.
- 내부 단편화는 발생하지 않으나, 외부 단편화는 발생할 수 있다.



#### 페이지 교체 알고리즘

###### OPT(OPTimal replacement) : 최적 교체

앞으로 가장 오랫동안 사용하지 않을 페이지를 교체하는 기법으로, 체이지 부재 횟수가 가장 적게 발생하는 가장 효율적인 알고리즘이다.

###### FIFO(First in First Out)

각 페이지가 주기억장치에 적재될 때마다 그때의 시간을 기록, 가장 오래 있던 페이지를 교체한다. 따라서 설계가 간단한 편이다.

|  참조페이지   |   2   |   3   |  2   |   1   |   5   |   2   |   3   |  5   |
| :-----------: | :---: | :---: | :--: | :---: | :---: | :---: | :---: | :--: |
|               | **2** |   2   |  2   |   2   | **5** |   5   |   5   |  5   |
| 페이지 프레임 |       | **3** |  3   |   3   |   3   | **2** |   2   |  2   |
|               |       |       |      | **1** |   1   |   1   | **3** |  3   |
|   부재 발생   |   *   |   *   |      |   *   |   *   |   *   |   *   |      |

###### LRU(Least Recently Used)

최근에 가장 오랫동안 사용하지 않은 페이지를 교체.

|  참조페이지   |   2   |   3   |     2      |   1   |   5   |     2      |   3   |     5      |
| :-----------: | :---: | :---: | :--------: | :---: | :---: | :--------: | :---: | :--------: |
|               | **2** |   2   | <u>*2*</u> |   2   |   2   | *<u>2</u>* |   2   |     2      |
| 페이지 프레임 |       | **3** |     3      |   3   | **5** |     5      |   5   | <u>*5*</u> |
|               |       |       |            | **1** |   1   |     1      | **3** |     3      |
|   부재 발생   |   *   |   *   |            |   *   |   *   |     *      |   *   |            |

###### NUR(Not used Recently)

NUR과 유사, 최근에 사용하지 않은 페이지를 교체하는 기법이다.

- 최근의 사용 여부를 확인하기 위한 참조비트와 변형비트를 사용한다.
- 참조비트 : 페이지가 호출되지 않으면 0, 호출되었을 때는 1로 지정
- 변형비트 : 페이지 내용이 변경되지 않으면 0, 변경되었을 때에는 1로 지정



#### 가상 기억장치의 관리 : 기타사항

###### 페이지의 크기

1. 페이지 크기가 작을 경우
   - 페이지 단편화가 감소되고, 한 개의 페이지를 주기억장치로 이동하는 시간이 줄어듬
   - 불필요한 내용이 주기억장치에 적재될 확률이 적어짐, 효율적인 워킹 셋 유지
   - 매핑 속도가 늦어짐 (맵 테이블의 크기가 커짐)
   - 디스크 접근횟수가 많아져서 전체적인 입출력 시간은 증가.
2. 페이지 크기가 클 경우
   - 매핑 속도가 빨리짐 (맵 테이블 크기가 작아짐)
   - 디스크 접근횟수가 적어져서 전체적인 입출력 시간 감소, 효율성 증가
   - 페이지 단편화 증가, 한 개의 페이지를 주기억장치로 이동하는 시간이 늘어남
   - 프로세스 수행에 불필요한 내용까지도 주기억장치에 적재될 수 있음

###### 스래싱(Thrashing)

스래싱은 **프로세스의 처리 시간보다 페이지 교체에 소요되는 시간이 더 많아지는 현상을** 의미

스래싱 현상을 방지하기 위해서는

- 다중 프로그래밍 정도를 적정 수준으로 유지
- 페이지 부재 빈도를 조절
- 워킹 셋을 유지
- 부족한 자원을 증설, 일부 프로세스를 중단
- CPU 성능에 대한 자료의 지속적 관리 및 분석을 통한 임계치 예측



## 프로세스

#### 프로세스의 정의

일반적으로 프로세서에 의해 처리되는 '실행중인 프로그램', 작업, 태스크라고도 한다.



#### 스레드

스레드는 프로세스 내에서의 작업 단위, 시스템의 여러 자원을 할당받아 실행하는 프로그램의 단위를 의미한다.

스레드를 사용의 장점으로는:

- 하나의 프로세스를 여러개의 스레드로 생성, 병행성 증진이 가능
- 하드웨어, 운영체제의 성능과 응용 프로그램의 처리율 향상
- 응용 프로그램의 응답시간 단축
- 실행 환경의 공유 -> 기억장소의 낭비 감소
