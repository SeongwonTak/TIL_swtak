# 200505_ 자료구조 : Heap(힙)

솔빙 연습만 하다가, 기초를 다지지 않으면 안되겠다는 생각에, 오늘은 자료구조 중 하나인 힙을 공부해 보았다.

참조링크 : 

https://galid1.tistory.com/485

[https://ko.wikipedia.org/wiki/%ED%9E%99_(%EC%9E%90%EB%A3%8C_%EA%B5%AC%EC%A1%B0)](https://ko.wikipedia.org/wiki/힙_(자료_구조))

## Heap의 정의

#### 완전 이진트리(Complete Binary Tree)

Heap을 알기 위해서는 먼저, **완전 이진트리**부터 정리해야 한다.

완전 이진트리는 이진 트리에서 노드를 삽입할 때, "왼쪽부터 차례대로" 삽입하는 이진트리를 의미한다.

따라서 완전 이진트리는 배열을 통해 쉽게 표현할 수 있다. 이 때 주의사항은 배열의 index는 0부터 표현하나, 완전 이진트리를 표현할때는 1부터 채워준다. 당연히 이 경우가 계산이 더 편해진다.

![](C:\Users\HP\Desktop\TIL_Codes\cbt_ex.png)



위의 그림은 완전이진트리에 인덱스를 부여한 것이다. 다음과 같은 성질들이 있다.

- i번째 노드의 왼쪽 자식 노드는 2i이다.

- i번째 노드의 오른쪽 자식 노드는 2i+1이다.

- i번째 노드의 부모 노드는 [i/2]이다. ([]는 가우스 함수)

  

#### 힙(Heap)

힙은 최댓값이나 최솟값을 찾아내는 연산을 빠르게 하기 위해 고안된 완전이진트리이다. 힙은 부모와 자식노드간에 특정 대소 관계가 성립된다. <u>**형제사이 관계에서는 대소관계를 생각하지 않음에 주의해야 한다.**</u>

힙은 최대 힙과 최소 힙이 있다.

- 최대 힙(Max Heap) : 각 노드의 키 값이 그의 자식노드의 키 값보다 큼

- 최소 힙(Min Heap) : 각 노드의 키 값이 그 자식노드의 키 값보다 작음

  

다시 말해, 최대 힙의 경우 루트 노드에 최댓값이 들어가고, 최소 힙의 경우 루트 노드에 최솟값이 들어가게 된다.



## Heap의 연산

하단의 내용은 모두 **Min Heap**를 기준으로 잡도록 하겠다.

(참고한 링크는 Max Heap이라서, Min Heap으로 바꾸어 보았다.)



#### 삽입 연산

먼저 주의 사항은, 힙은 무조건 "완전이진트리"의 구조를 유지해야 한다. 따라서 삽입시 일단 가장 먼저 해야 하는 것은 **트리의 가장 마지막에 원소를 추가**하는 것이다.

1단계 ) 트리의 가장 마지막에 원소를 추가한다.

2단계 ) 삽입된 형태가 힙의 조건을 만족하는지 확인한다. 여기서는 추가된 원소가 부모노드보다 큰가로 보면 된다. 부모로 갈수록 작아야 하는 것이 최소 힙이다.

3단계 ) 아닐 경우 삽입된 노드의 값과 그의 부모의 노드의 값을 뒤바꾸고 2단계로 간다.

4단계 ) 혹시 이러다가 루트 노드로 올라오게 될 경우 더 이상의 연산 없이 삽입 연산이 마무리되며, 그 이전에라도 힙의 조건을 만족시 더 이상 연산하지 않고 마무리한다.



#### 삭제연산

삭제연산의 주의사항은 **삭제연산은 무조건 루트 노드**에서만 이루어진다는 점이다.

따라서 다음 루트 노드를 결정해야 한다. 물론, 그 이후 힙 화가 이루어져야 한다는 것은 사실.

1단계 ) 루트에서 노드를 지운다.

2단계 ) 가장 마지막 노드가 루트로 온다.

3단계 ) 힙화를 위해, 옮겨진 노드와 그 노드의 자식 노드 중 더 작은 값을 비교하여 힙 조건을 검사한다.

4단계) 만족하면 끝, 만족하지 않으면 루트 노드와 그 자식 노드를 변경하고 다시 3단계를 실시하며 반복.


코드는 아직, 도저히 따라갈 수 없어서 나중에 올리려고 한다. 2편으로.
코드를 찾아서 읽고 있는데, 이해가 되지 않은 구절이 많아 추후 재도전 하려고 한다.
지금 보긴 좀 이른 난이도인거 같다.
